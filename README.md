## π― ν”„λ΅μ νΈ κ°μ”

μ΄ ν”„λ΅μ νΈλ” **ν—¥μ‚¬κ³ λ‚  μ•„ν‚¤ν…μ²**(λλ” ν¬νΈμ™€ μ–΄λ‘ν„° μ•„ν‚¤ν…μ²) ν¨ν„΄μ„ μ‚¬μ©ν•μ—¬ μ‹μ¤ν…μ **μ μ—°μ„±**, **ν…μ¤νΈ μ©μ΄μ„±**, **λ¶„λ¦¬λ μ±…μ„**μ„ μ μ§€ν•λ©° λ¦¬ν©ν† λ§λμ—μµλ‹λ‹¤. κΈ°μ΅΄μ λ μ΄μ–΄λ“ μ•„ν‚¤ν…μ²λ¥Ό ν—¥μ‚¬κ³ λ‚  μ•„ν‚¤ν…μ²λ΅ λ¦¬ν©ν† λ§ν•μ—¬ κ° κµ¬μ„± μ”μ†μ κ²½κ³„λ¥Ό λ…ν™•ν•κ² κµ¬λ¶„ν•κ³ , μ™Έλ¶€ μ‹μ¤ν…κ³Όμ ν†µν•©μ„ μ‰½κ² κ΄€λ¦¬ν•  μ μλ„λ΅ ν–μµλ‹λ‹¤.
ν—¥μ‚¬κ³ λ‚  μ•„ν‚¤ν…μ²λ΅ λ¦¬ν©ν† λ§ν• μ½”λ“λ” main, μ „ν†µμ μΈ λ μ΄μ–΄λ“ μ•„ν‚¤ν…μ² μ½”λ“λ” [layerd λΈλμΉ](https://github.com/hyukjunkim1116/spring-hexagonal/tree/layerd)μ— μμµλ‹λ‹¤.

## π—οΈ μ•„ν‚¤ν…μ² κ°μ”

ν—¥μ‚¬κ³ λ‚  μ•„ν‚¤ν…μ²λ” **ν•µμ‹¬ λ„λ©”μΈ λ΅μ§**μ„ μ¤‘μ‹¬μΌλ΅ λ‹¤μ–‘ν• μ–΄λ‘ν„°(μ…λ ¥, μ¶λ ¥)λ¥Ό ν†µν•΄ μ™Έλ¶€ μ‹μ¤ν…κ³Ό μƒνΈμ‘μ©ν•λ” κµ¬μ΅°λ¥Ό κ°€μ§‘λ‹λ‹¤. μ΄ μ•„ν‚¤ν…μ²λ” λ‹¤μκ³Ό κ°™μ€ μ£Όμ” κµ¬μ„± μ”μ†λ΅ λ‚λ μ μμµλ‹λ‹¤:

- **ν•µμ‹¬ λ„λ©”μΈ**(Domain): λΉ„μ¦λ‹μ¤ λ΅μ§κ³Ό λ„λ©”μΈ μ—”ν‹°ν‹°λ¥Ό ν¬ν•¨ν•©λ‹λ‹¤.
- **μ…λ ¥ ν¬νΈ(Input Port)**: ν΄λΌμ΄μ–ΈνΈλ‚ μ‚¬μ©μ μ”μ²­μ„ μ²λ¦¬ν•λ” μΈν„°νμ΄μ¤μ…λ‹λ‹¤.
- **μ¶λ ¥ ν¬νΈ(Output Port)**: μ™Έλ¶€ μ‹μ¤ν…κ³Όμ μΈν„°νμ΄μ¤λ¥Ό μ •μν•λ” ν¬νΈμ…λ‹λ‹¤.
- **μ…λ ¥ μ–΄λ‘ν„°(Input Adapter)**: μ›Ή μ”μ²­κ³Ό κ°™μ€ μ™Έλ¶€ μ…λ ¥μ„ λ°›μ•„μ„ μ…λ ¥ ν¬νΈλ¥Ό νΈμ¶ν•λ” μ—­ν• μ„ ν•©λ‹λ‹¤.
- **μ¶λ ¥ μ–΄λ‘ν„°(Output Adapter)**: λ°μ΄ν„°λ² μ΄μ¤λ‚ μ™Έλ¶€ API νΈμ¶μ„ ν†µν•΄ μ¶λ ¥ ν¬νΈλ¥Ό νΈμ¶ν•λ” μ—­ν• μ„ ν•©λ‹λ‹¤.

## π”§ ν”„λ΅μ νΈ κµ¬μ„±

### 1. **λ„λ©”μΈ λ μ΄μ–΄ (Domain Layer)**

ν•µμ‹¬ λΉ„μ¦λ‹μ¤ λ΅μ§κ³Ό λ„λ©”μΈ λ¨λΈμ΄ ν¬ν•¨λμ–΄ μμµλ‹λ‹¤. μ΄ λ μ΄μ–΄λ” μ™Έλ¶€μ™€μ μμ΅΄μ„±μ„ μµμ†ν™”ν•λ©°, λΉ„μ¦λ‹μ¤ κ·μΉ™μ— μ§‘μ¤‘ν•©λ‹λ‹¤.  
- **λ„λ©”μΈ μ—”ν‹°ν‹°**(Entity): λΉ„μ¦λ‹μ¤ κ°μ²΄λ“¤μ„ μ •μν•©λ‹λ‹¤.
- **μ μ¤μΌ€μ΄μ¤**(Use Cases): μ‹μ¤ν…μ μ£Όμ” κΈ°λ¥μ„ μ •μν•λ” μ„λΉ„μ¤ κ³„μΈµμ…λ‹λ‹¤.

### 2. **ν¬νΈμ™€ μ–΄λ‘ν„°**

ν—¥μ‚¬κ³ λ‚  μ•„ν‚¤ν…μ²μ—μ„λ” μ…λ ¥ ν¬νΈμ™€ μ¶λ ¥ ν¬νΈλ¥Ό ν†µν•΄ μ™Έλ¶€ μ‹μ¤ν…κ³Όμ μƒνΈμ‘μ©μ„ μ¶”μƒν™”ν•©λ‹λ‹¤. ν¬νΈλ” μΈν„°νμ΄μ¤λ΅ μ •μλλ©°, μ–΄λ‘ν„°κ°€ μ΄ μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•μ—¬ μ‹¤μ  μ”μ²­μ„ μ²λ¦¬ν•©λ‹λ‹¤.

- **μ…λ ¥ ν¬νΈ (Input Port)**: μ‹μ¤ν…μ μ£Όμ” κΈ°λ¥μ„ μ •μν•©λ‹λ‹¤. ν΄λΌμ΄μ–ΈνΈ μ”μ²­μ„ λ°›μ•„μ„ λ„λ©”μΈ λ΅μ§μ„ νΈμ¶ν•©λ‹λ‹¤.
- **μ¶λ ¥ ν¬νΈ (Output Port)**: λ°μ΄ν„° μ €μ¥μ†λ‚ μ™Έλ¶€ API νΈμ¶μ„ μ •μν•©λ‹λ‹¤. λ„λ©”μΈ λ΅μ§μ—μ„ λ°μ΄ν„°λ¥Ό μ €μ¥ν•κ±°λ‚ μ΅°νν•  λ• μ‚¬μ©λ©λ‹λ‹¤.

## π“‚ ν”„λ΅μ νΈ λ””λ ‰ν† λ¦¬ κµ¬μ΅°

- ν—¥μ‚¬κ³ λ‚  μ•„ν‚¤ν…μ²

```
β”β”€β”€ common
β”‚Β Β  β”β”€β”€ controller
β”‚Β Β  β”‚Β Β  β”β”€β”€ ExceptionControllerAdvice.java
β”‚Β Β  β”‚Β Β  β””β”€β”€ web
β”‚Β Β  β”‚Β Β      β”β”€β”€ argumentresolver
β”‚Β Β  β”‚Β Β      β”‚Β Β  β”β”€β”€ Login.java
β”‚Β Β  β”‚Β Β      β”‚Β Β  β””β”€β”€ LoginUserArgumentResolver.java
β”‚Β Β  β”‚Β Β      β””β”€β”€ interceptor
β”‚Β Β  β”‚Β Β          β””β”€β”€ LoginCheckInterceptor.java
β”‚Β Β  β”β”€β”€ domain
β”‚Β Β  β”‚Β Β  β”β”€β”€ ErrorResponse.java
β”‚Β Β  β”‚Β Β  β””β”€β”€ exception
β”‚Β Β  β”‚Β Β      β”β”€β”€ AlreadyExistsEmailException.java
β”‚Β Β  β”‚Β Β      β”β”€β”€ AlreadyExistsUsernameException.java
β”‚Β Β  β”‚Β Β      β”β”€β”€ PasswordNotMatchException.java
β”‚Β Β  β”‚Β Β      β”β”€β”€ UserException.java
β”‚Β Β  β”‚Β Β      β””β”€β”€ UserNotFound.java
β”‚Β Β  β””β”€β”€ service
β”‚Β Β      β””β”€β”€ SessionManager.java
β”β”€β”€ config
β”‚Β Β  β””β”€β”€ WebMvcConfig.java
β””β”€β”€ user
    β”β”€β”€ controller
    β”‚Β Β  β”β”€β”€ UserController.java
    β”‚Β Β  β””β”€β”€ request
    β”‚Β Β      β”β”€β”€ LoginRequest.java
    β”‚Β Β      β”β”€β”€ SignupRequest.java
    β”‚Β Β      β””β”€β”€ UserInfo.java
    β”β”€β”€ domain
    β”‚Β Β  β””β”€β”€ User.java
    β”β”€β”€ infrastructure
    β”‚Β Β  β”β”€β”€ PasswordEncoderImpl.java
    β”‚Β Β  β”β”€β”€ UserEntity.java
    β”‚Β Β  β”β”€β”€ UserJpaRepository.java
    β”‚Β Β  β””β”€β”€ UserRepositoryImpl.java
    β””β”€β”€ service
        β”β”€β”€ UserService.java
        β””β”€β”€ port
            β”β”€β”€ PasswordEncoder.java
            β””β”€β”€ UserRepository.java
```

- λ μ΄μ–΄λ“ μ•„ν‚¤ν…μ²

```
β”β”€β”€ config
β”‚Β Β  β”β”€β”€ LoginCheckInterceptor.java
β”‚Β Β  β”β”€β”€ WebConfig.java
β”‚Β Β  β””β”€β”€ argumentresolver
β”‚Β Β      β”β”€β”€ Login.java
β”‚Β Β      β””β”€β”€ LoginUserArgumentResolver.java
β”β”€β”€ user
β”‚Β Β  β”β”€β”€ controller
β”‚Β Β  β”‚Β Β  β”β”€β”€ UserController.java
β”‚Β Β  β”‚Β Β  β””β”€β”€ UserExceptionController.java
β”‚Β Β  β”β”€β”€ domain
β”‚Β Β  β”‚Β Β  β””β”€β”€ User.java
β”‚Β Β  β”β”€β”€ dto
β”‚Β Β  β”‚Β Β  β”β”€β”€ ErrorResponse.java
β”‚Β Β  β”‚Β Β  β”β”€β”€ LoginRequest.java
β”‚Β Β  β”‚Β Β  β”β”€β”€ SignupRequest.java
β”‚Β Β  β”‚Β Β  β””β”€β”€ UserInfo.java
β”‚Β Β  β”β”€β”€ exception
β”‚Β Β  β”‚Β Β  β”β”€β”€ AlreadyExistsEmailException.java
β”‚Β Β  β”‚Β Β  β”β”€β”€ PasswordNotMatchException.java
β”‚Β Β  β”‚Β Β  β”β”€β”€ UserException.java
β”‚Β Β  β”‚Β Β  β””β”€β”€ UserNotFound.java
β”‚Β Β  β”β”€β”€ repository
β”‚Β Β  β”‚Β Β  β””β”€β”€ UserRepository.java
β”‚Β Β  β””β”€β”€ service
β”‚Β Β      β””β”€β”€ UserService.java
β””β”€β”€ util
    β”β”€β”€ PasswordEncoder.java
    β””β”€β”€ SessionConst.java
```

## π”„ μ£Όμ” λ³€κ²½ μ‚¬ν•­

κΈ°μ΅΄μ λ μ΄μ–΄λ“ μ•„ν‚¤ν…μ²λ” κ³„μΈµ κ°„μ μμ΅΄μ„±μ— μν•΄ κ° λ μ΄μ–΄κ°€ μ„λ΅ λ°€μ ‘ν•κ² μ—°κ²°λμ–΄ μμ—μµλ‹λ‹¤. μ΄λ΅ μΈν•΄ ν…μ¤νΈμ™€ μ μ§€λ³΄μκ°€ μ–΄λ ¤μ› μµλ‹λ‹¤. ν—¥μ‚¬κ³ λ‚  μ•„ν‚¤ν…μ²λ΅ λ¦¬ν©ν† λ§ν•λ©΄μ„ κ°μ„ λ λ¶€λ¶„μ€

0. Fat Serviceμ μΆ…λ§κ³Ό OOPμ¤λ¬μ΄ μ½”λ“μ λ“±μ¥ :
![1](https://github.com/user-attachments/assets/f3dc1d02-0901-4594-b747-7ea0454db457)

2. λ„λ©”μΈ λ΅μ§μ λ…λ¦½μ„±: λ„λ©”μΈ λ΅μ§μ€ μ™Έλ¶€ μ‹μ¤ν…κ³Ό λ¶„λ¦¬λμ–΄ λ…λ¦½μ μ΄λ©°, ν…μ¤νΈ μ©μ΄μ„±μ΄ λ†’μ•„μ΅μµλ‹λ‹¤. μμ›”ν• λ‹¨μ„ ν…μ¤νΈ μ‘μ„±μ΄ κ°€λ¥ν•΄μ΅μµλ‹λ‹¤.
3. μ–΄λ‘ν„°μ μ—­ν•  λ¶„λ¦¬: μ›Ή, λ°μ΄ν„°λ² μ΄μ¤, μ™Έλ¶€ APIμ™€μ μ—°κ²°μ„ μ–΄λ‘ν„°μ—μ„ μ²λ¦¬ν•λ―€λ΅, λ„λ©”μΈ λ΅μ§μ€ μ΄λ¬ν• μ™Έλ¶€ μ‹μ¤ν…μ— λ€ν• μμ΅΄μ„±μ΄ μ—†μµλ‹λ‹¤.
4. ν™•μ¥μ„±: μƒλ΅μ΄ μ…λ ¥ μ–΄λ‘ν„°λ‚ μ¶λ ¥ μ–΄λ‘ν„°λ¥Ό μ¶”κ°€ν•λ” κ²ƒμ΄ μ‰¬μ›μ΅μµλ‹λ‹¤. μλ¥Ό λ“¤μ–΄, μƒλ΅μ΄ API λλ” λ°μ΄ν„° μ €μ¥μ†λ¥Ό μ¶”κ°€ν•  λ• κΈ°μ΅΄ λ„λ©”μΈ λ΅μ§μ— λ€ν• λ³€κ²½ μ—†μ΄ μ–΄λ‘ν„°λ§ μ¶”κ°€ν•λ©΄ λ©λ‹λ‹¤.

